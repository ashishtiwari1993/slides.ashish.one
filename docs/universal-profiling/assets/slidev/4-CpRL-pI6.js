import{B as V,C as W}from"../modules/unplugin-icons-jwRo-HiM.js";import{d as P,t as q,aA as F,C as B,ac as $,y as D,aB as M,o,b as E,f as z,A as k,c as u,g as R,i as K,h as T,k as p,l as g,m as y,q as j,s as O,e as s,a6 as e}from"../modules/vue-BXiNn49O.js";import{v as x,ac as U,C as X,ad as G,ae as J,af as S}from"../index-BLjtp1fI.js";import{u as H,p as Q,f as Y}from"./context-Bg0crAjK.js";import{I as Z}from"./default-DEaWg1Q3.js";import"../modules/shiki-CFUWKxDT.js";const ss=["title"],is=P({__name:"CodeBlockWrapper",props:{ranges:{type:Array,default:()=>[]},finally:{type:[String,Number],default:"last"},startLine:{type:Number,default:1},lines:{type:Boolean,default:x.lineNumbers},at:{type:[String,Number],default:"+1"},maxHeight:{type:String,default:void 0}},setup(f){const i=f,{$clicksContext:h}=H(),t=q(),_=U();F(()=>{h.unregister(_)}),B(()=>{var a;(a=t.value)==null||a.classList.toggle("slidev-code-line-numbers",i.lines)}),$(()=>{var c;if(!h||!((c=i.ranges)!=null&&c.length))return;const a=h.calculateSince(i.at,i.ranges.length-1);h.register(_,a);const l=D(()=>a?Math.max(0,h.current-a.start+1):X),n=D(()=>i.finally==="last"?i.ranges.at(-1):i.finally.toString());B(()=>{if(!t.value)return;let d=i.ranges[l.value]??n.value;const A=d==="hide";t.value.classList.toggle(G,A),A&&(d=i.ranges[l.value+1]??n.value);const b=t.value.querySelector(".shiki"),C=Array.from(b.querySelectorAll("code > .line")),L=C.length;if(J(d,L,i.startLine,r=>[C[r]]),i.maxHeight){const r=Array.from(b.querySelectorAll(".line.highlighted"));r.reduce((v,N)=>N.offsetHeight+v,0)>t.value.offsetHeight?r[0].scrollIntoView({behavior:"smooth",block:"start"}):r.length>0&&r[Math.round((r.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}})});const{copied:m,copy:w}=M();function I(){var l,n;const a=(n=(l=t.value)==null?void 0:l.querySelector(".slidev-code"))==null?void 0:n.textContent;a&&w(a)}return(a,l)=>{const n=V,c=W;return o(),E("div",{ref_key:"el",ref:t,class:K(["slidev-code-wrapper relative group",{"slidev-code-line-numbers":i.lines}]),style:T({"max-height":i.maxHeight,"overflow-y":i.maxHeight?"scroll":void 0,"--start":i.startLine})},[z(a.$slots,"default"),k(x).codeCopy?(o(),E("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:k(m)?"Copied":"Copy",onClick:l[0]||(l[0]=d=>I())},[k(m)?(o(),u(n,{key:0,class:"p-2 w-8 h-8"})):(o(),u(c,{key:1,class:"p-2 w-8 h-8"}))],8,ss)):R("v-if",!0)],6)}}}),es=s("h1",null,"hello-world.py",-1),ts=s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"from"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," bcc "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"import"),s("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}}," BPF")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"prog "),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#C98A7D99","--shiki-light":"#B5695999"}},' """'),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"int kprobe__sys_clone(void *ctx) {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' bpf_trace_printk("Hello, World!'),s("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"\\\\"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'n");')]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," return 0;")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"};"),s("span",{style:{"--shiki-dark":"#C98A7D99","--shiki-light":"#B5695999"}},'"""')]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"BPF"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"text"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"prog"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")."),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"trace_print"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")])])],-1),as=s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-sh"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"sudo"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," python"),s("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}}," hello-world.py")])])],-1),ls=s("p",null,[e("Hit some commands(e.g "),s("code",null,"ls"),e(", "),s("code",null,"date"),e(") in another terminal session.")],-1),ns=s("p",null,"Output -",-1),rs=s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-sh"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"'            bash-106325  [001] ....2.1 133003.319718: bpf_trace_printk: Hello, World!'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"''")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"'            bash-106325  [000] ....2.1 133006.553345: bpf_trace_printk: Hello, World!'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"''")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"'            bash-106325  [000] ....2.1 133009.227792: bpf_trace_printk: Hello, World!'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"''")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"b"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"'            bash-106325  [001] ....2.1 133027.881426: bpf_trace_printk: Hello, World!'")])])],-1),ys={__name:"4",setup(f){return Q(S),H(),(i,h)=>{const t=is;return o(),u(Z,j(O(k(Y)(k(S),3))),{default:p(()=>[es,g(t,y({},{ranges:[]}),{default:p(()=>[ts]),_:1},16),g(t,y({},{ranges:[]}),{default:p(()=>[as]),_:1},16),ls,ns,g(t,y({},{ranges:[]}),{default:p(()=>[rs]),_:1},16)]),_:1},16)}}};export{ys as default};
